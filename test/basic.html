<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <title>Basic tests for basic-fade-overflow</title>

  <script src="../../webcomponentsjs/webcomponents.js"></script>
  <script src="../../web-component-tester/browser.js"></script>

  <!-- Step 1: import the element to test -->
  <link rel="import" href="../basic-fade-overflow.html">
</head>
<body>

  <!-- You use the document as a place to set up your fixtures. -->
  <basic-fade-overflow id="bfo1" style="...">
    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam rhoncus
    lacus ut blandit euismod. Aenean quam erat, pellentesque ut augue sed,
    suscipit pretium ligula. Etiam eu euismod quam, at porta ante. Pellentesque
    vulputate mi ut nibh lacinia, ac tincidunt leo vehicula. Proin porttitor a
    tortor vitae iaculis. Cras eros magna, mollis a imperdiet facilisis, ornare
    ac nunc. Ut in vehicula risus, sodales fringilla felis. In libero libero,
    tincidunt malesuada lorem ut, dictum auctor nunc. Aliquam congue sem sit
    amet velit semper suscipit. Donec fringilla sodales diam in fringilla. In
    hac habitasse platea dictumst. Suspendisse at maximus erat. Cum sociis
    natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus.
    Cras tincidunt erat auctor varius aliquam. Fusce vitae nunc et justo commodo
    blandit sed et arcu. Aenean lobortis sollicitudin est, et dignissim massa
    suscipit non. Donec vitae magna dolor. Nullam vel ante ex. Sed vestibulum
    sem rutrum vestibulum laoreet.
  </basic-fade-overflow>

  <script>
  var bfo1 = document.querySelector('#bfo1');

  suite('basic', function() {

    test('fadeColor attribute is defined', function(done) {
      assert(bfo1.fadeColor != undefined);
      done();
    });

    test('default fadeColor is set to white', function(done) {
      var rgb = bfo1._extractRgbValues(bfo1.fadeColor);
      console.dir(rgb);
      assert(rgb.r == 255 && rgb.g == 255 && rgb.b == 255);
      done();
    });

    test('refresh updates fadeColor', function(done) {
      document.body.style.backgroundColor = 'red';
      flush(function() {
        bfo1.refresh();
        var rgb = bfo1._extractRgbValues(bfo1.fadeColor);
        assert(rgb.r == 255 && rgb.g == 0 && rgb.b == 0);
        done();
      });
    });

    test('explicitly set fadeColor with rgb string', function(done) {
      bfo1.fadeColor = 'rgb(0, 0, 255)';
      flush(function() {
        var rgb = bfo1._extractRgbValues(bfo1.fadeColor);
        assert(rgb.r == 0 && rgb.g == 0 && rgb.b == 255);
        done();
      });
    });

    // BUGBUG
    // TODO: Should fadeColor allow setting to color strings such as 'blue'?

  });
  </script>

</body>
</html>
